<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Juego Adelina Marketing - Estelar</title>

<!-- Carga un archivo CSS que est√° en internet, concretamente en el servicio cdnjs (Content Delivery Network) pertenece a la librer√≠a FONT AWESOME, 
     contiene todos los ICONOS y sus estilos
     FONT AWESOME   -> es una biblioteca de iconos vectoriales (en formato de fuente e SVG, NO SON IM√ÅGENES).
     CDNJS          -> es un repositorio/CDN"-->
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
  :root{ --accent:#256D85; --btn:#FEAA6A; --hud-white: #ffffffcc; }
  body {
    margin: 0;
    font-family: Arial, Helvetica, sans-serif;
    background: #0b1220;
    color: #fff;
    display:flex;
    flex-direction:column;
    align-items:center;
    padding:24px;
    min-height:100vh;
    box-sizing:border-box;
  }

  header { text-align:center; margin-bottom:8px; }
  h1 { color: #FEAA6A; margin:6px 0; }
  p { color:#e6f7f7; max-width:820px; text-align:center; margin:6px 0 18px; font-size:20px; }

  .hud-container {
  display: flex;
  justify-content: space-between; /* separa uno a la izquierda y otro a la derecha */
  align-items: center; /* centra verticalmente */
  width: 38%; /* separaci√≥n de los contadores */
}

#hud1, #hud2 {
  background: #FEAA6A;
  color: white;
  padding: 10px 18px;
  border-radius: 8px;
  font-size: 18px;
  margin-bottom: 12px;
}


  /* Contenedor del juego centrado */
  #gameWrapper {
    width: 860px;               /* ancho del recuadro (m√°s grande) */
    max-width: calc(100vw - 40px);
    background: linear-gradient(180deg,#07111a,#0b1720);
    border-radius:12px;
    padding:12px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.5);
    border: 3px solid rgba(37,109,133,0.15);
  }

  #gameArea {
    width: 800px;
    height: 500px;
    max-width: 100%;
    background: radial-gradient(ellipse at center, rgba(13,45,61,0.12) 0%, rgba(5,10,18,0.45) 100%);  /* estrellas* + CANVAS para crear el fondo*/
    border-radius:10px;
    position: relative;
    overflow: hidden;
    margin: 10px auto 0;
    box-sizing: border-box;
    border: 2px solid rgba(255,255,255,0.03);
  }
 
  /* Canvas de estrellas (detr√°s) */
  #starCanvas { position:absolute; left:0; top:0; width:100%; height:100%; z-index:1; }

  /* Los iconos van por encima */
  .icono {
    position: absolute;
    font-size: 64px; /* m√°s grandes */
    cursor: pointer;
    z-index: 5;
    user-select: none;
    -webkit-user-select: none;
    transition: transform 0.14s linear;
    pointer-events: auto;
  }
  .icono:hover { transform: scale(1.18); }

  /* HUD superior (fuera del canvas) */
  #controls { display:flex; gap:10px; align-items:center; justify-content:center; margin-top:8px; flex-wrap:wrap; }
  button { background: var(--btn); color:#fff; border:none; padding:10px 14px; border-radius:8px; cursor:pointer; font-weight:700; }
  button.secondary { background:#2c3e50; padding:8px 12px; }

  /* Indicador piloto */
  .led {
    display:inline-block;
    width:12px;
    height:12px;
    border-radius:50%;
    margin-left:8px;
    vertical-align:middle;
    box-shadow: 0 0 6px rgba(0,0,0,0.4) inset;
  }
  .led.on { background: #1ed760; box-shadow: 0 0 8px #1ed760; }
  .led.off { background: red; box-shadow: none; opacity:0.6; }

  footer a {
  color: white;
  font-size: 24px;
  text-decoration: none; /* quitar subrayado */
}

footer a:hover {
  color: #A260F2;
} 

  /* Responsivo peque√±o */
  @media (max-width:880px) {
    #gameWrapper { width: 96%; padding:8px; }
    #gameArea { height: 420px; }
    .icono { font-size: 52px; }
  }
  @media (max-width:420px) {
    #gameArea { height: 340px; }
    .icono { font-size: 44px; }
  }

  
  /* --- Responsivo HUD y footer --- */
@media (max-width:600px) {
  .hud-container {
    width: 100%;            /* ocupa todo el ancho */
    flex-direction: column;  /* apila verticalmente los contadores */
    gap: 2px;               /* separaci√≥n entre ellos */
    align-items: center;    /* centrado horizontal */
    margin-bottom: 12px;
  }
  #hud1, #hud2 {
    font-size: 16px;        /* m√°s peque√±o en m√≥vil */
    padding: 8px 14px;
    width: auto;            /* que no tenga ancho fijo */
    text-align: center;
  }

  footer p {
    text-align: center;      /* centra el texto del footer */
    font-size: 26px;         /* ajusta tama√±o en m√≥vil */
    margin: 12px 0;
  }
}

</style>
</head>
<body>

<header>
  <br><br>
  <h1>üéØ Juego Adelina Marketing</h1>
  <br>
  <p>Haz clic encima de los iconos y contrata todas las Redes Sociales que puedas con <strong>MARKETING ADELINA!!</strong> para sumar puntos. </p>
  <P>Evita la üí©, perder√°s los puntos. Cada 10 puntos sube el nivel y se acelera la velocidad!!.</P>
</header>

<div class="hud-container">
  <div id="hud1">Puntos: 0</div>
  <div id="hud2">Nivel: 1</div>
</div>


<div id="gameWrapper">     <!-- pantalla juego -->
  <div id="gameArea">      <!-- fondo de estrellas -->
    <canvas id="starCanvas"></canvas> <!-- CANVAS -> Es un elemento de HTML5 que funciona como un lienzo en blanco sobre el que puedes dibujar gr√°ficos din√°micamente con JavaScript -->
    <!-- iconos se a√±adir√°n aqu√≠ -->
  </div>

  <div id="controls" style="margin-top:12px; justify-content:center;">
    <button id="startBtn">‚ñ∂ Iniciar Juego</button>

    <button id="musicToggle" class="secondary" disabled>
      üéµ M√∫sica: <span id="musicState">OFF</span>
      <span id="musicLed" class="led off"></span>
    </button>

    <button id="resetBtn" class="secondary">üîÑ Reiniciar</button>
  </div>
</div>

<br>
<footer>
  <p>Aplicaci√≥n Web creada por <a href="http://www.borjacode.com" target="_blank" rel="noopener noreferrer">  &nbsp;&nbsp;-=/ BorjaCode Studio /=-</a></p>
</footer>

<!-- Audios: intenta primero fuente local (sounds/...), si no, fallback remoto -->
<audio id="musicaFondo" loop preload="auto">
  <source src="sounds/musica_fondo.mp3" type="audio/mpeg">
  <source src="https://cdn.pixabay.com/audio/2022/10/21/audio_6e0f0f6a9d.mp3" type="audio/mpeg">
</audio>

<audio id="sonidoAcierto" preload="auto">
  <source src="sounds/acierto.mp3" type="audio/mpeg">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-correct-answer-tone-2870.mp3" type="audio/mpeg">
</audio>

<audio id="sonidoFallo" preload="auto">
  <source src="sounds/fallo.mp3" type="audio/mpeg">
  <source src="https://assets.mixkit.co/sfx/preview/mixkit-failure-arcade-alert-notification-240.mp3" type="audio/mpeg">
</audio>

<script>
  /* -------------------------
     CONFIG y estado del juego
     ------------------------- */
  const gameArea = document.getElementById('gameArea');
  const starCanvas = document.getElementById('starCanvas');
  const startBtn = document.getElementById('startBtn');
  const musicToggle = document.getElementById('musicToggle');
  const musicState = document.getElementById('musicState');
  const musicLed = document.getElementById('musicLed');
  const resetBtn = document.getElementById('resetBtn');
  
  /* ‚úÖ Referencias a los dos HUD */
  const hud1 = document.getElementById('hud1'); // Puntos
  const hud2 = document.getElementById('hud2'); // Nivel
  

  const musica = document.getElementById('musicaFondo');
  const sonidoAcierto = document.getElementById('sonidoAcierto');
  const sonidoFallo = document.getElementById('sonidoFallo');
  

  const redesHTML = [   //ICONOS DE REDES SOCIALES <-> Se insertan usando etiquetas <i> o <span> con clases espec√≠ficas.
    '<i class="fab fa-facebook" style="color:#1877f2;"></i>',
    '<i class="fab fa-instagram" style="color:#e1306c;"></i>',
    '<i class="fab fa-tiktok" style="color:#000;"></i>',
    '<i class="fab fa-youtube" style="color:#ff0000;"></i>',
    '<i class="fab fa-twitter" style="color:#1da1f2;"></i>',
    '<i class="fab fa-linkedin" style="color:#0077b5;"></i>'
  ];
  
  const trampaHTML = '<span style="font-size:66px;">üí©</span>';  //ICONO CACA
  
  let puntos = 0;
  let nivel = 1;
  let velocidad = 2000;  // vida del icono (ms)
  let intervalo = 800;   // tiempo entre spawns (ms)
  let spawner = null;
  let juegoActivo = false;
  let iconosActivos = new Set();
  
  /* -------------------------
     STARFIELD (canvas)
     ------------------------- */
  const ctx = starCanvas.getContext('2d', { alpha: true }); //se define la const canvas 2D dibujar en graficos planos.  -> ctx es como tu pincel virtual.
  let stars = [];
  function resizeCanvas() {
    starCanvas.width = gameArea.clientWidth;
    starCanvas.height = gameArea.clientHeight;
  }
  window.addEventListener('resize', () => {
    resizeCanvas();
    initStars();
  });
  function initStars() {
    stars = [];
    const count = Math.floor((starCanvas.width * starCanvas.height) / 2000);
    for (let i=0;i<count;i++){
      stars.push({
        x: Math.random()*starCanvas.width,
        y: Math.random()*starCanvas.height,
        r: Math.random()*1.6 + 0.4,
        alpha: Math.random()*0.8 + 0.2,
        dx: (Math.random()-0.5)*0.02,
        dy: (Math.random()-0.5)*0.02,
        twinkle: Math.random()*0.02 + 0.005
      });
    }
  }
  function drawStars() {
    ctx.clearRect(0,0,starCanvas.width, starCanvas.height);
    for (const s of stars){
      s.alpha += (Math.random()-0.5)*s.twinkle;
      s.alpha = Math.max(0.15, Math.min(1, s.alpha));
      ctx.beginPath();
      ctx.fillStyle = `rgba(255,255,255,${s.alpha})`;
      ctx.arc(s.x, s.y, s.r, 0, Math.PI*2);
      ctx.fill();
      s.x += s.dx;
      s.y += s.dy;
      if (s.x < 0) s.x = starCanvas.width;
      if (s.x > starCanvas.width) s.x = 0;
      if (s.y < 0) s.y = starCanvas.height;
      if (s.y > starCanvas.height) s.y = 0;
    }
    requestAnimationFrame(drawStars);
  }
  
  /* -------------------------
     SPAWNER / ICON LOGIC
     ------------------------- */
  function randomPositionForIcon(iconSize=66){
    const w = gameArea.clientWidth - iconSize;
    const h = gameArea.clientHeight - iconSize;
    return { x: Math.random()*w, y: Math.random()*h };
  }
  
  function spawnIcon(){
    if (!juegoActivo) return;
    const icono = document.createElement('div');
    icono.className = 'icono';
    const esCaca = Math.random() < 0.20;
    icono.innerHTML = esCaca ? trampaHTML : redesHTML[Math.floor(Math.random()*redesHTML.length)];
  
    const size = 66;
    const pos = randomPositionForIcon(size);
    let x = pos.x, y = pos.y;
    icono.style.left = x + 'px';
    icono.style.top  = y + 'px';
  
    const speedBase = 1 + (nivel-1)*0.4;
    let dx = (Math.random()-0.5) * (2.2 * speedBase);
    let dy = (Math.random()-0.5) * (2.2 * speedBase);
  
    const id = Symbol();
    iconosActivos.add(id);
  
    icono.addEventListener('click', (ev) => {
      ev.stopPropagation();
      if (!juegoActivo) return;
      if (!musica._unlocked) unlockAudio();
      if (esCaca){
        puntos = 0;
        nivel = 1;
        velocidad = 2000;
        intervalo = 800;
        playSafe(sonidoFallo);
        restartSpawner();
      } else {
        puntos++;
        playSafe(sonidoAcierto);
        if (puntos % 10 === 0){
          nivel++;
          velocidad = Math.max(800, velocidad - 200);
          intervalo = Math.max(300, intervalo - 100);
          restartSpawner();
        }
      }
      updateHUD();
      icono.remove();
      iconosActivos.delete(id);
    });
  
    gameArea.appendChild(icono);
  
    const mover = setInterval(() => {
      x += dx; y += dy;
      if (x <= 0){ x = 0; dx *= -1; }
      if (y <= 0){ y = 0; dy *= -1; }
      if (x >= gameArea.clientWidth - 66){ x = gameArea.clientWidth - 66; dx *= -1; }
      if (y >= gameArea.clientHeight - 66){ y = gameArea.clientHeight - 66; dy *= -1; }
      icono.style.left = x + 'px';
      icono.style.top  = y + 'px';
    }, 16);
  
    const remover = setTimeout(() => {
      clearInterval(mover);
      if (icono.parentElement) icono.remove();
      iconosActivos.delete(id);
    }, velocidad);
  
    icono._cleanup = () => { clearInterval(mover); clearTimeout(remover); if (icono.parentElement) icono.remove(); iconosActivos.delete(id); };
  }
  
  /* CONTROL SPAWNER */
  function startSpawner(){
    if (spawner) clearInterval(spawner);
    spawner = setInterval(spawnIcon, intervalo);
  }
  function stopSpawner(){
    if (spawner) { clearInterval(spawner); spawner = null; }
  }
  function restartSpawner(){
    stopSpawner();
    startSpawner();
  }
  
  /* -------------------------
     AUDIO helpers / desbloqueo
     ------------------------- */
  function playSafe(audioEl){
    audioEl.currentTime = 0;
    audioEl.play().catch(()=>{});
  }
  function unlockAudio(){
    musica._unlocked = true;
    if (musicState.textContent === 'ON') {
      musicOn();
    }
  }
  function musicOn(){
    musica.volume = 0.32;
    musica.play().catch(()=>{});
    musicState.textContent = 'ON';
    musicLed.classList.remove('off'); musicLed.classList.add('on');
    musicToggle.classList.remove('secondary');
  }
  function musicOff(){
    musica.pause();
    musicState.textContent = 'OFF';
    musicLed.classList.remove('on'); musicLed.classList.add('off');
    musicToggle.classList.add('secondary');
  }
  
  /* -------------------------
     HUD y controles
     ------------------------- */
  
  function updateHUD(){
    if (hud1) hud1.textContent = `Puntos: ${puntos}`;
    if (hud2) hud2.textContent = `Nivel: ${nivel}`;
  }
  
  /* START / RESET handlers */
  startBtn.addEventListener('click', () => {
    if (!juegoActivo){
      juegoActivo = true;
      puntos = 0; nivel = 1; velocidad = 2000; intervalo = 800;
      updateHUD();
      resizeCanvas(); initStars(); drawStars();
      startSpawner();
      musicToggle.disabled = false;
      unlockAudio();
      startBtn.style.display = 'none';
    }
  });
  
  musicToggle.addEventListener('click', () => {
    if (musicState.textContent === 'OFF'){
      musicOn();
      musica._unlocked = true;
    } else {
      musicOff();
    }
  });
  
  resetBtn.addEventListener('click', () => {
    stopSpawner();
    juegoActivo = false;
    for (const el of Array.from(gameArea.querySelectorAll('.icono'))){
      if (el._cleanup) el._cleanup(); else el.remove();
    }
    iconosActivos.clear();
    puntos = 0; nivel = 1; velocidad = 2000; intervalo = 800;
    updateHUD();
    startBtn.style.display = 'inline-block';
  });
  
  /* -------------------------
     UTILS y arranque
     ------------------------- */
  function init(){
    updateHUD();          // mostrar√° Puntos: 0 | Nivel: 1
    resizeCanvas();
    initStars();
    drawStars();
    [musica, sonidoAcierto, sonidoFallo].forEach(a => { a.load(); a._unlocked = false; });
    musicOff();
  }
  init();
  </script>
  
</body>
</html>
